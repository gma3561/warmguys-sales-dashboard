(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[888],{1118:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/_app",function(){return n(1065)}])},6166:function(t,e,n){"use strict";n.d(e,{H:function(){return AuthProvider},a:function(){return useAuth}});var u=n(5893),r=n(7294),o=n(3706);let i=(0,r.createContext)();function AuthProvider(t){let{children:e}=t,[n,a]=(0,r.useState)(null),[c,l]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{(0,o.$8)()&&a((0,o.ts)()),l(!1);let t=setInterval(()=>{(0,o.zy)(),(0,o.$8)()||a(null)},3e5);return()=>clearInterval(t)},[]),(0,u.jsx)(i.Provider,{value:{user:n,loading:c,isAuthenticated:!!n,login:t=>{a(t)},logout:()=>{(0,o.kS)(),a(null)}},children:e})}function useAuth(){let t=(0,r.useContext)(i);if(void 0===t)throw Error("useAuth must be used within an AuthProvider");return t}},3706:function(t,e,n){"use strict";n.d(e,{$8:function(){return isAuthenticated},QO:function(){return withAuth},kS:function(){return logout},ts:function(){return getCurrentUser},x4:function(){return login},zy:function(){return checkAuthExpiration}});var u=n(5893),r=n(1163),o=n(7294);let i={username:"Warmguys",password:"Eksha12!@"};function isAuthenticated(){let t=localStorage.getItem("auth_token"),e=localStorage.getItem("login_time");if(!t||!e)return!1;let n=new Date().getTime(),u=n-parseInt(e);return!(u>864e5)||(logout(),!1)}function login(t,e){if(t===i.username&&e===i.password){let e=btoa("".concat(t,":").concat(Date.now())),n=new Date().getTime().toString();return localStorage.setItem("auth_token",e),localStorage.setItem("login_time",n),localStorage.setItem("username",t),!0}return!1}function logout(){localStorage.removeItem("auth_token"),localStorage.removeItem("login_time"),localStorage.removeItem("username")}function getCurrentUser(){return isAuthenticated()?{username:localStorage.getItem("username"),loginTime:localStorage.getItem("login_time")}:null}function checkAuthExpiration(){isAuthenticated()||(logout(),window.location.href="/login")}function withAuth(t){let WithAuth=e=>{let n=(0,r.useRouter)();return(0,o.useEffect)(()=>{isAuthenticated()||n.push("/login")},[n]),(0,u.jsx)(t,{...e})};return WithAuth.displayName="WithAuth(".concat(t.displayName||t.name||"Component",")"),WithAuth}},1065:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return _app}});var u=n(5893),r=n(6166),o=n(7294),i=n(1163);function AuthenticatedApp(t){let{Component:e,pageProps:n}=t,{isAuthenticated:a,loading:c}=(0,r.a)(),l=(0,i.useRouter)();return((0,o.useEffect)(()=>{c||a||"/login"===l.pathname||l.push("/login")},[a,c,l]),c)?(0,u.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,u.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600"})}):a||"/login"===l.pathname?(0,u.jsx)(e,{...n}):null}n(2352);var _app=function(t){let{Component:e,pageProps:n}=t;return(0,u.jsx)(r.H,{children:(0,u.jsx)(AuthenticatedApp,{Component:e,pageProps:n})})}},2352:function(){},1163:function(t,e,n){t.exports=n(9974)}},function(t){var __webpack_exec__=function(e){return t(t.s=e)};t.O(0,[774,179],function(){return __webpack_exec__(1118),__webpack_exec__(9974)}),_N_E=t.O()}]);